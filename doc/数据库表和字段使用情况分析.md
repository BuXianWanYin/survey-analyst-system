# 数据库表和字段使用情况分析文档

## 一、概述

本文档基于对代码库的全面检查，分析了 `survey_analyst` 数据库中所有表和字段的使用情况。通过检查实体类、Mapper、Service、Controller 等代码，识别出已使用的表和字段，以及未使用的表和字段。

**检查时间**：2024年（基于当前代码库状态）

---

## 二、已使用的表及字段说明

### 2.1 用户相关表

#### ✅ `user` - 用户表

**表作用**：存储系统用户信息，包括账号、邮箱、密码等基本信息。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 用户主键ID，自增 |
| `account` | varchar(50) | ✅ 使用 | 用户账号，用于登录，唯一约束 |
| `email` | varchar(100) | ✅ 使用 | 用户邮箱，用于登录，唯一约束 |
| `username` | varchar(50) | ✅ 使用 | 用户昵称/显示名称，不用于登录 |
| `phone` | varchar(20) | ⚠️ **未使用** | 手机号，在实体类中有映射，但代码中未实际使用 |
| `password` | varchar(255) | ✅ 使用 | 密码（BCrypt加密） |
| `avatar` | varchar(255) | ✅ 使用 | 头像URL |
| `role` | varchar(20) | ✅ 使用 | 角色（USER, ADMIN） |
| `status` | tinyint | ✅ 使用 | 状态（0-禁用，1-启用） |
| `create_time` | datetime | ✅ 使用 | 创建时间 |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `delete_flag` | tinyint | ✅ 使用 | 删除标志（0-未删除，1-已删除），逻辑删除 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.User`
- Mapper：`com.server.surveyanalystserver.mapper.user.UserMapper`
- 登录认证、用户管理等功能

---

### 2.2 问卷相关表

#### ✅ `survey` - 问卷表

**表作用**：存储问卷的基本信息，包括标题、描述、状态、访问控制等。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 问卷主键ID，自增 |
| `user_id` | bigint | ✅ 使用 | 创建用户ID，关联user表 |
| `title` | varchar(200) | ✅ 使用 | 问卷标题 |
| `description` | text | ✅ 使用 | 问卷描述 |
| `cover_img` | varchar(500) | ❌ **未使用** | 问卷封面图，数据库中存在但实体类未映射 |
| `status` | varchar(20) | ✅ 使用 | 状态（DRAFT-草稿，PUBLISHED-已发布，PAUSED-已暂停，ENDED-已结束） |
| `access_type` | varchar(20) | ✅ 使用 | 访问类型（PUBLIC-公开，PASSWORD-密码访问，PRIVATE-私有） |
| `password` | varchar(100) | ✅ 使用 | 访问密码（当access_type为PASSWORD时使用） |
| `max_responses` | int | ✅ 使用 | 最大填写数限制 |
| `start_time` | datetime | ✅ 使用 | 开始时间 |
| `end_time` | datetime | ✅ 使用 | 结束时间 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `delete_flag` | tinyint | ✅ 使用 | 删除标志（0-未删除，1-已删除），逻辑删除 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.Survey`
- Mapper：`com.server.surveyanalystserver.mapper.SurveyMapper`
- 问卷创建、编辑、发布、填写等功能

---

#### ✅ `question` - 题目表

**表作用**：存储问卷中的题目信息，包括题型、标题、描述、是否必填等。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 题目主键ID，自增 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID，关联survey表 |
| `type` | varchar(20) | ✅ 使用 | 题型（SINGLE_CHOICE, MULTIPLE_CHOICE, TEXT, TEXTAREA, RATING, SORT, MATRIX, FILE, DATE） |
| `title` | varchar(500) | ✅ 使用 | 题目标题 |
| `description` | text | ✅ 使用 | 题目描述 |
| `required` | tinyint | ✅ 使用 | 是否必填（0-否，1-是） |
| `order_num` | int | ✅ 使用 | 排序号 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |
| `update_time` | datetime | ✅ 使用 | 更新时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.Question`
- Mapper：`com.server.surveyanalystserver.mapper.QuestionMapper`
- 问卷编辑、题目管理等功能

---

#### ✅ `option` - 选项表

**表作用**：存储选择题的选项信息。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 选项主键ID，自增 |
| `question_id` | bigint | ✅ 使用 | 题目ID，关联question表 |
| `content` | varchar(500) | ✅ 使用 | 选项内容 |
| `image_url` | varchar(255) | ✅ 使用 | 选项图片URL（支持图片选项） |
| `order_num` | int | ✅ 使用 | 排序号 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.Option`
- Mapper：`com.server.surveyanalystserver.mapper.OptionMapper`
- 问卷编辑、选项管理等功能

---

### 2.3 响应相关表

#### ✅ `response` - 响应表

**表作用**：存储问卷的填写记录，包括填写用户、IP地址、设备类型、填写时间等。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 填写记录主键ID，自增 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID，关联survey表 |
| `user_id` | bigint | ✅ 使用 | 填写用户ID（匿名填写为NULL） |
| `ip_address` | varchar(50) | ✅ 使用 | IP地址 |
| `device_type` | varchar(20) | ✅ 使用 | 设备类型（PC, MOBILE） |
| `start_time` | datetime | ✅ 使用 | 开始填写时间 |
| `submit_time` | datetime | ✅ 使用 | 提交时间 |
| `duration` | int | ✅ 使用 | 填写时长（秒） |
| `status` | varchar(20) | ✅ 使用 | 状态（COMPLETED-已完成，DRAFT-草稿） |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.Response`
- Mapper：`com.server.surveyanalystserver.mapper.ResponseMapper`
- Service：`com.server.surveyanalystserver.service.impl.ResponseServiceImpl`
- 问卷填写、响应管理、统计分析等功能

---

#### ✅ `answer` - 答案表

**表作用**：存储具体的答案数据，支持选择题、填空题、文件上传等多种题型。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 答案主键ID，自增 |
| `response_id` | bigint | ✅ 使用 | 填写记录ID，关联response表 |
| `question_id` | bigint | ✅ 使用 | 题目ID，关联question表 |
| `option_id` | bigint | ✅ 使用 | 选项ID（选择题时使用） |
| `content` | text | ✅ 使用 | 答案内容（填空题时使用） |
| `file_url` | varchar(255) | ✅ 使用 | 文件URL（文件上传题时使用） |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.Answer`
- Mapper：`com.server.surveyanalystserver.mapper.AnswerMapper`
- 问卷填写、答案保存、统计分析等功能

---

### 2.4 表单相关表

#### ✅ `form_config` - 表单配置表

**表作用**：存储表单的基本配置信息，通过form_key关联到问卷。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `form_key` | varchar(50) | ✅ 使用 | 表单唯一标识，唯一约束 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID（逻辑外键） |
| `name` | text | ✅ 使用 | 表单名称 |
| `description` | text | ✅ 使用 | 表单描述 |
| `user_id` | bigint | ✅ 使用 | 创建用户ID |
| `type` | varchar(10) | ✅ 使用 | 表单类型 |
| `status` | tinyint | ✅ 使用 | 状态（0-禁用，1-启用） |
| `is_deleted` | tinyint(1) | ✅ 使用 | 删除标志（0-未删除，1-已删除） |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormConfig`
- Mapper：`com.server.surveyanalystserver.mapper.FormConfigMapper`
- 表单管理、问卷与表单关联等功能

---

#### ✅ `form_data` - 表单数据表

**表作用**：存储表单提交的原始数据，以JSON格式存储填写结果。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `form_key` | varchar(100) | ✅ 使用 | 表单key，关联form_config表 |
| `serial_number` | int | ✅ 使用 | 序号 |
| `original_data` | json | ✅ 使用 | 填写结果原始数据（JSON格式） |
| `submit_browser` | varchar(50) | ✅ 使用 | 提交浏览器 |
| `submit_request_ip` | varchar(50) | ✅ 使用 | 请求IP |
| `start_time` | datetime | ✅ 使用 | 开始填写时间 |
| `complete_time` | int | ✅ 使用 | 完成时间（秒） |
| `create_time` | datetime | ✅ 使用 | 创建时间 |
| `update_time` | datetime | ✅ 使用 | 更新时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormData`
- Mapper：`com.server.surveyanalystserver.mapper.FormDataMapper`
- 表单数据提交、数据导出等功能

---

#### ✅ `form_item` - 表单项表

**表作用**：存储表单的各个表单项配置，包括表单项类型、标签、校验规则等。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `form_key` | varchar(100) | ✅ 使用 | 表单唯一标识 |
| `form_item_id` | text | ✅ 使用 | 表单项唯一标识 |
| `question_id` | bigint | ✅ 使用 | 题目ID（逻辑外键，关联question表） |
| `type` | text | ✅ 使用 | 表单项类型 |
| `label` | text | ✅ 使用 | 表单项标签（标题） |
| `is_display_type` | tinyint(1) | ✅ 使用 | 显示类型 |
| `is_hide_type` | tinyint(1) | ✅ 使用 | 隐藏类型 |
| `is_special_type` | tinyint(1) | ✅ 使用 | 特殊类型 |
| `show_label` | tinyint(1) | ✅ 使用 | 是否显示标签 |
| `default_value` | text | ✅ 使用 | 默认值 |
| `required` | tinyint(1) | ✅ 使用 | 是否必填 |
| `placeholder` | varchar(255) | ✅ 使用 | 占位符 |
| `sort` | bigint | ✅ 使用 | 排序号 |
| `span` | int | ✅ 使用 | 栅格占位 |
| `scheme` | json | ✅ 使用 | 配置方案（JSON格式） |
| `reg_list` | json | ✅ 使用 | 校验规则列表（JSON格式） |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormItem`
- Mapper：`com.server.surveyanalystserver.mapper.FormItemMapper`
- 表单编辑、表单项管理等功能

---

#### ✅ `form_template` - 表单模板表

**表作用**：存储表单模板信息，用户可以从模板快速创建问卷。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `form_key` | varchar(100) | ✅ 使用 | 模板唯一标识，唯一约束 |
| `name` | varchar(200) | ✅ 使用 | 模板名称 |
| `cover_img` | varchar(500) | ✅ 使用 | 封面图 |
| `description` | text | ✅ 使用 | 模板描述 |
| `category_id` | bigint | ✅ 使用 | 模板分类ID，关联form_template_category表 |
| `status` | bigint | ✅ 使用 | 状态（0-禁用，1-启用） |
| `user_id` | bigint | ✅ 使用 | 创建用户ID |
| `is_public` | tinyint(1) | ✅ 使用 | 是否公共模板（0-我的模板，1-公共模板） |
| `scheme` | json | ✅ 使用 | 模板内容定义（JSON格式，包含表单项、主题、逻辑等） |
| `is_deleted` | int | ✅ 使用 | 删除标志（0-未删除，1-已删除） |
| `create_time` | datetime | ✅ 使用 | 创建时间 |
| `update_time` | datetime | ✅ 使用 | 更新时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormTemplate`
- Mapper：`com.server.surveyanalystserver.mapper.FormTemplateMapper`
- Service：`com.server.surveyanalystserver.service.impl.FormTemplateServiceImpl`
- 模板管理、从模板创建问卷等功能

---

#### ✅ `form_template_category` - 表单模板分类表

**表作用**：存储表单模板的分类信息，用于组织和管理模板。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `user_id` | bigint | ✅ 使用 | 用户ID（NULL-系统分类，有值-用户自定义分类） |
| `name` | varchar(100) | ✅ 使用 | 分类名称 |
| `sort` | int | ✅ 使用 | 排序号 |
| `is_deleted` | int | ✅ 使用 | 删除标志（0-未删除，1-已删除） |
| `create_time` | datetime | ✅ 使用 | 创建时间 |
| `update_time` | datetime | ✅ 使用 | 更新时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormTemplateCategory`
- Mapper：`com.server.surveyanalystserver.mapper.FormTemplateCategoryMapper`
- Service：`com.server.surveyanalystserver.service.impl.FormTemplateCategoryServiceImpl`
- 模板分类管理功能

---

#### ✅ `form_theme` - 表单主题表

**表作用**：存储表单的主题配置，包括logo、背景、颜色、按钮样式等。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID（逻辑外键），唯一约束 |
| `submit_btn_text` | varchar(20) | ✅ 使用 | 提交按钮文字 |
| `logo_img` | varchar(255) | ✅ 使用 | logo图片 |
| `logo_position` | varchar(10) | ✅ 使用 | logo位置 |
| `logo_size` | int | ✅ 使用 | logo大小（像素） |
| `background_color` | varchar(200) | ✅ 使用 | 背景颜色 |
| `background_img` | varchar(255) | ✅ 使用 | 背景图片 |
| `show_title` | tinyint(1) | ✅ 使用 | 是否显示标题 |
| `show_describe` | tinyint(1) | ✅ 使用 | 是否显示描述语 |
| `theme_color` | varchar(50) | ✅ 使用 | 主题颜色 |
| `show_number` | tinyint(1) | ✅ 使用 | 显示序号 |
| `show_submit_btn` | tinyint(1) | ✅ 使用 | 显示提交按钮 |
| `head_img_url` | varchar(255) | ✅ 使用 | 头部图片 |
| `head_img_height` | int | ✅ 使用 | 头图高度（像素） |
| `btn_font_size` | int | ✅ 使用 | 按钮字体大小（像素） |
| `btn_width` | int | ✅ 使用 | 按钮宽度（像素） |
| `btn_height` | int | ✅ 使用 | 按钮高度（像素） |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormTheme`
- Mapper：`com.server.surveyanalystserver.mapper.FormThemeMapper`
- 表单主题配置功能

---

#### ✅ `form_setting` - 表单设置表

**表作用**：存储表单的设置信息，以JSON格式存储各种设置项。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID（逻辑外键），唯一约束 |
| `settings` | json | ✅ 使用 | 设置内容（JSON格式，包含IP限制、用户限制等） |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormSetting`
- Mapper：`com.server.surveyanalystserver.mapper.FormSettingMapper`
- 表单设置管理、填写限制控制等功能

---

#### ✅ `form_logic` - 表单逻辑表

**表作用**：存储表单的逻辑规则，以JSON格式存储条件显示、跳转等逻辑。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID（逻辑外键），唯一约束 |
| `scheme` | json | ✅ 使用 | 逻辑定义（JSON格式，包含条件、动作等） |
| `update_time` | datetime | ✅ 使用 | 更新时间 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.FormLogic`
- Mapper：`com.server.surveyanalystserver.mapper.FormLogicMapper`
- 表单逻辑配置功能

---

### 2.5 统计相关表

#### ✅ `statistics_cache` - 统计缓存表

**表作用**：存储统计数据的缓存，提高统计查询性能。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 主键ID，自增 |
| `survey_id` | bigint | ✅ 使用 | 问卷ID |
| `question_id` | bigint | ✅ 使用 | 题目ID（题目统计时使用，可为NULL） |
| `stat_type` | varchar(50) | ✅ 使用 | 统计类型（如SURVEY_OVERVIEW, QUESTION_STAT, DEVICE_STAT等） |
| `stat_data` | text | ✅ 使用 | 统计数据（JSON格式） |
| `update_time` | datetime | ✅ 使用 | 更新时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.StatisticsCache`
- Mapper：`com.server.surveyanalystserver.mapper.StatisticsCacheMapper`
- Service：`com.server.surveyanalystserver.service.impl.StatisticsServiceImpl`
- 统计分析、数据缓存等功能

---

### 2.6 系统相关表

#### ✅ `operation_log` - 操作日志表

**表作用**：存储用户操作日志，用于审计和问题排查。

**字段使用情况**：

| 字段名 | 类型 | 是否使用 | 作用说明 |
|--------|------|---------|---------|
| `id` | bigint | ✅ 使用 | 日志主键ID，自增 |
| `user_id` | bigint | ✅ 使用 | 操作用户ID |
| `operation_type` | varchar(50) | ✅ 使用 | 操作类型 |
| `operation_desc` | varchar(500) | ✅ 使用 | 操作描述 |
| `request_url` | varchar(255) | ✅ 使用 | 请求URL |
| `request_method` | varchar(20) | ✅ 使用 | 请求方法（GET, POST等） |
| `request_params` | text | ✅ 使用 | 请求参数 |
| `response_result` | text | ✅ 使用 | 响应结果 |
| `ip_address` | varchar(50) | ✅ 使用 | IP地址 |
| `create_time` | datetime | ✅ 使用 | 创建时间 |

**使用位置**：
- 实体类：`com.server.surveyanalystserver.entity.OperationLog`
- Mapper：`com.server.surveyanalystserver.mapper.OperationLogMapper`
- Service：`com.server.surveyanalystserver.service.impl.OperationLogServiceImpl`
- AOP切面：`com.server.surveyanalystserver.aspect.OperationLogAspect`
- 操作日志记录、日志查询等功能

---

## 三、未使用的字段

### 3.1 `survey` 表的 `cover_img` 字段

**字段信息**：
- **表名**：`survey`
- **字段名**：`cover_img`
- **类型**：`varchar(500)`
- **状态**：❌ **未使用**

**原因分析**：
- 数据库中存在该字段
- 但在 `Survey` 实体类中未映射该字段
- 代码中未使用该字段

**建议**：
- 如果未来需要支持问卷封面图功能，可以在 `Survey` 实体类中添加该字段的映射
- 如果确定不需要该功能，可以考虑删除该字段

---

### 3.2 `user` 表的 `phone` 字段

**字段信息**：
- **表名**：`user`
- **字段名**：`phone`
- **类型**：`varchar(20)`
- **状态**：⚠️ **未使用**

**原因分析**：
- 数据库中存在该字段
- 在 `User` 实体类中有映射该字段
- 但在代码中未找到实际使用该字段的地方（如getPhone、setPhone、.phone等）

**建议**：
- 如果未来需要支持手机号登录或手机号验证功能，可以在相关代码中使用该字段
- 如果确定不需要该功能，可以考虑删除该字段，或保留以备将来使用

---

## 四、表使用情况总结

### 4.1 已使用的表（16个）

| 表名 | 用途 | 状态 |
|------|------|------|
| `user` | 用户表 | ✅ 完全使用 |
| `survey` | 问卷表 | ✅ 基本使用（1个字段未使用） |
| `question` | 题目表 | ✅ 完全使用 |
| `option` | 选项表 | ✅ 完全使用 |
| `response` | 响应表 | ✅ 完全使用 |
| `answer` | 答案表 | ✅ 完全使用 |
| `form_config` | 表单配置表 | ✅ 完全使用 |
| `form_data` | 表单数据表 | ✅ 完全使用 |
| `form_item` | 表单项表 | ✅ 完全使用 |
| `form_template` | 表单模板表 | ✅ 完全使用 |
| `form_template_category` | 表单模板分类表 | ✅ 完全使用 |
| `form_theme` | 表单主题表 | ✅ 完全使用 |
| `form_setting` | 表单设置表 | ✅ 完全使用 |
| `form_logic` | 表单逻辑表 | ✅ 完全使用 |
| `statistics_cache` | 统计缓存表 | ✅ 完全使用 |
| `operation_log` | 操作日志表 | ✅ 完全使用 |

### 4.2 未使用的字段（2个）

| 表名 | 字段名 | 状态 |
|------|--------|------|
| `survey` | `cover_img` | ❌ 未使用 |
| `user` | `phone` | ⚠️ 未使用 |

---

## 五、建议

### 5.1 对于未使用的字段

1. **`survey.cover_img`**：
   - 如果确定不需要问卷封面图功能，建议删除该字段
   - 如果需要该功能，建议在 `Survey` 实体类中添加字段映射，并实现相关功能

2. **`user.phone`**：
   - 如果确定不需要手机号相关功能，可以考虑删除该字段
   - 如果需要手机号登录或验证功能，建议实现相关业务逻辑

### 5.2 数据库优化建议

1. **索引优化**：检查各表的索引是否合理，确保查询性能
2. **字段类型优化**：检查字段类型是否合适，避免浪费存储空间
3. **定期清理**：对于逻辑删除的数据，建议定期清理或归档

---

## 六、总结

通过对代码库的全面检查，发现：

1. **所有16个表都在使用中**，没有完全未使用的表
2. **仅有2个字段未使用**：
   - `survey.cover_img` - 问卷封面图（实体类未映射）
   - `user.phone` - 用户手机号（实体类有映射但代码未使用）

3. **整体数据库设计合理**，表结构清晰，字段使用率高

4. **建议**：
   - 对于未使用的字段，根据业务需求决定是否删除或实现相关功能
   - 保持数据库结构的整洁，避免冗余字段

---

**文档生成时间**：2024年  
**检查范围**：整个代码库（实体类、Mapper、Service、Controller等）  
**检查方法**：代码搜索、实体类分析、数据库表结构对比

